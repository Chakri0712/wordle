services:
  - type: web
    name: wordle-multiplayer
    runtime: node
    # Install root deps (express, socket.io, concurrently) then build the client
    buildCommand: npm install && npm install --prefix client && npm run build
    # Serve everything from the Express server (it serves client/dist in production)
    startCommand: node server/index.js
    envVars:
      - key: NODE_ENV
        value: production
